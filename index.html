<!DOCTYPE html>
<html lang="vi" class="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ứng dụng Thần Số Học</title>
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      transition: background 0.3s ease, color 0.3s ease;
      overflow-x: hidden;
    }
    .light {
      background: linear-gradient(135deg, #d8b4fe, #e9d5ff);
    }
    .dark {
      background: linear-gradient(135deg, #1e3a8a, #4c1d95);
      color: #ffffff;
    }
    .header-container {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 2rem;
      padding-top: 1.5rem;
    }
    .header-title {
      position: relative;
      z-index: 10;
    }
    #themeToggle, #menuToggle {
      position: absolute;
      top: -15px;
      transition: background-color 0.3s ease;
    }
    #themeToggle {
      right: 50px;
    }
    #menuToggle {
      right: 10px;
    }
    #themeToggle:hover, #menuToggle:hover {
      background-color: #9333ea;
    }
    #menuToggle .icon-wrapper, #themeToggle .icon-wrapper {
      display: inline-block;
      transition: transform 0.3s ease;
    }
    #menuToggle:hover .icon-wrapper, #themeToggle:hover .icon-wrapper {
      transform: rotate(360deg);
    }
    .dropdown-menu {
      position: absolute;
      top: 100%;
      right: 10px;
      background: #ffffff;
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      min-width: 150px;
      display: none;
    }
    .dark .dropdown-menu {
      background: #4a5568;
    }
    .dropdown-menu.active {
      display: block;
    }
    .dropdown-menu button {
      display: block;
      width: 100%;
      padding: 0.5rem 1rem;
      text-align: left;
      background: none;
      border: none;
      font-size: 1rem;
      color: #111827;
    }
    .dark .dropdown-menu button {
      color: #edf2f7;
    }
    .dropdown-menu button:hover {
      background: #f3e8ff;
    }
    .dark .dropdown-menu button:hover {
      background: #4a5568;
    }
    .input-field, .select-field {
      transition: all 0.3s ease;
      color: #000000;
      min-width: 120px;
      border-radius: 0.5rem;
      padding: 1rem;
      font-size: 1.1rem;
    }
    .input-field:focus, .select-field:focus {
      border-color: #a855f7;
      box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.2);
    }
    .dark .input-field, .dark .select-field {
      color: #ffffff;
      background-color: #2d3748;
    }
    .dark .input-field::placeholder, .dark .select-field::placeholder {
      color: #d1d5db;
    }
    .btn-calculate, #clearBtn, #dailyClearBtn, #compatClearBtn {
      transition: transform 0.3s ease, background-color 0.3s ease;
      border-radius: 0.75rem;
      padding: 1.25rem 2rem;
      font-size: 1.25rem;
      font-weight: 600;
      width: auto;
      min-width: 150px;
      text-align: center;
    }
    .btn-calculate {
      background-color: #a855f7;
      color: #ffffff;
    }
    .btn-calculate:hover {
      background-color: #9333ea;
      transform: scale(1.05);
    }
    #clearBtn, #dailyClearBtn, #compatClearBtn {
      background-color: #6b7280;
      color: #ffffff;
    }
    #clearBtn:hover, #dailyClearBtn:hover, #compatClearBtn:hover {
      background-color: #4b5563;
      transform: scale(1.05);
    }
    .result-card {
      background: linear-gradient(145deg, #ffffff, #f3e8ff);
      transition: transform 0.3s ease, opacity 0.3s ease;
      padding: 1.5rem;
      max-height: 400px;
      overflow-y: auto;
      border-radius: 0.75rem;
      animation: fadeIn 0.5s ease-in-out;
    }
    .dark .result-card {
      background: linear-gradient(145deg, #2d3748, #4a5568);
      color: #edf2f7;
    }
    .result-card:hover {
      transform: translateY(-5px);
    }
    .toggle-btn {
      transition: background-color 0.3s ease;
    }
    .dark .toggle-btn {
      background-color: #4b0082;
    }
    .light .text-gray-800 {
      color: #111827;
    }
    #result, #dailyResult, #compatResult {
      font-size: 1rem;
      line-height: 1.6;
    }
    #details p, #meanings p, #calculationDetails p, #dailyForecast p, #compatResult p {
      line-height: 1.6;
      font-size: 1rem;
    }
    .details-hidden {
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      transition: max-height 0.5s ease, opacity 0.3s ease;
    }
    .details-shown {
      max-height: 1000px;
      opacity: 1;
      transition: max-height 0.5s ease, opacity 0.3s ease;
    }
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      display: none;
    }
    .loading-overlay.active {
      display: flex;
    }
    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #a855f7;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .button-line {
      display: flex;
      flex-wrap: nowrap;
      gap: 1rem;
      width: 100%;
      justify-content: center;
    }
    [data-tooltip] {
      position: relative;
    }
    [data-tooltip]:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background-color: #333;
      color: #fff;
      padding: 0.5rem;
      border-radius: 0.25rem;
      font-size: 0.9rem;
      white-space: nowrap;
      z-index: 10;
      margin-bottom: 0.5rem;
    }
    @media (max-width: 640px) {
      .result-card {
        padding: 1rem;
      }
      #result, #dailyResult, #compatResult {
        font-size: 0.9rem;
      }
      .button-line {
        flex-direction: row;
        gap: 0.5rem;
      }
      .input-field, .select-field {
        font-size: 1rem;
        padding: 0.75rem;
      }
      .btn-calculate, #clearBtn, #dailyClearBtn, #compatClearBtn {
        font-size: 1rem;
        padding: 1rem 1.5rem;
        min-width: 120px;
      }
      h1 {
        font-size: 1.5rem;
      }
      h2 {
        font-size: 1.125rem;
      }
    }
    @media (min-width: 640px) {
      h1 {
        font-size: 2rem;
      }
      h2 {
        font-size: 1.5rem;
      }
      #result, #dailyResult, #compatResult {
        font-size: 1rem;
      }
      .button-line {
        gap: 1rem;
      }
    }
    .icon {
      margin-right: 0.5rem;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen">
  <div id="loadingOverlay" class="loading-overlay">
    <div class="spinner"></div>
  </div>
  <div class="bg-white dark:bg-gray-800 bg-opacity-90 dark:bg-opacity-90 p-8 rounded-2xl shadow-2xl w-full max-w-2xl mx-4">
    <div class="header-container mb-8">
      <div class="header-title">
        <h1 class="text-2xl sm:text-4xl font-bold text-center text-purple-800 dark:text-purple-300 animate-pulse">Khám Phá Bản Thân Cùng Thần Số Học</h1>
      </div>
      <button id="themeToggle" class="toggle-btn bg-purple-600 dark:bg-purple-900 text-white p-2 rounded-full focus:outline-none" data-tooltip="Chuyển đổi giao diện sáng/tối">
        <span class="icon-wrapper">
          <svg id="themeIcon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
          </svg>
        </span>
      </button>
      <button id="menuToggle" class="toggle-btn bg-purple-600 dark:bg-purple-900 text-white p-2 rounded-full focus:outline-none" data-tooltip="Mở menu tab">
        <span class="icon-wrapper">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
          </svg>
        </span>
      </button>
      <div id="menuDropdown" class="dropdown-menu">
        <button id="mainTabBtn" class="tab-btn" data-tab="main">Tổng Quan</button>
        <button id="dailyTabBtn" class="tab-btn" data-tab="daily">Dự Báo Hàng Ngày</button>
        <button id="compatTabBtn" class="tab-btn" data-tab="compat">Độ Tương Hợp</button>
      </div>
    </div>
    <div id="mainTab" class="tab-content active">
      <div class="space-y-6">
        <div>
          <label class="block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2">Họ và tên đầy đủ</label>
          <input type="text" id="fullName" placeholder="Nhập họ và tên" class="input-field block w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Vui lòng nhập họ và tên đầy đủ của bạn">
        </div>
        <div>
          <label class="block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2">Ngày sinh</label>
          <div class="flex space-x-3 flex-wrap gap-4">
            <select id="day" class="select-field block w-1/3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Chọn ngày sinh của bạn">
              <option value="" disabled selected>Ngày</option>
            </select>
            <select id="month" class="select-field block w-1/3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Chọn tháng sinh của bạn">
              <option value="" disabled selected>Tháng</option>
            </select>
            <input type="number" id="year" placeholder="Năm" min="1900" max="2025" maxlength="4" class="input-field block w-1/3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Nhập năm sinh (4 chữ số, từ 1900 đến 2025)">
          </div>
        </div>
        <div class="button-line">
          <button id="calculateBtn" class="btn-calculate bg-purple-600 text-white p-3 rounded-lg font-semibold flex items-center justify-center" data-tooltip="Nhấn để tính số học của bạn">
            Tính Toán
          </button>
          <button id="clearBtn" class="bg-gray-400 text-white p-3 rounded-lg font-semibold hover:bg-gray-500 transition-colors" data-tooltip="Nhấn để xóa tất cả thông tin đã nhập">
            Xóa
          </button>
        </div>
      </div>
      <div id="result" class="mt-6 text-gray-800 dark:text-gray-100 space-y-4">
        <div id="summary" class="result-card p-4 rounded-lg shadow-md"></div>
        <button id="showMoreBtn" class="w-full bg-purple-600 text-white p-2 rounded-lg font-semibold mt-2 hidden" data-tooltip="Nhấn để xem chi tiết kết quả">Xem Thêm</button>
        <button id="showCalcBtn" class="w-full bg-purple-600 text-white p-2 rounded-lg font-semibold mt-2 hidden" data-tooltip="Nhấn để xem cách tính">Xem Cách Tính</button>
        <button id="showMeaningsBtn" class="w-full bg-purple-600 text-white p-2 rounded-lg font-semibold mt-2 hidden" data-tooltip="Nhấn để xem ý nghĩa các con số">Xem Ý Nghĩa Các Con Số</button>
        <div id="details" class="details-hidden result-card p-4 rounded-lg shadow-md mt-4"></div>
        <div id="calculationDetails" class="details-hidden result-card p-4 rounded-lg shadow-md mt-4"></div>
        <div id="meanings" class="details-hidden result-card p-4 rounded-lg shadow-md mt-4"></div>
      </div>
    </div>
    <div id="dailyTab" class="tab-content">
      <div class="space-y-6">
        <div>
          <label class="block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2">Ngày sinh</label>
          <div class="flex space-x-3 flex-wrap gap-4">
            <select id="dailyDay" class="select-field block w-1/3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Chọn ngày sinh của bạn">
              <option value="" disabled selected>Ngày</option>
            </select>
            <select id="dailyMonth" class="select-field block w-1/3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Chọn tháng sinh của bạn">
              <option value="" disabled selected>Tháng</option>
            </select>
            <input type="number" id="dailyYear" placeholder="Năm" min="1900" max="2025" maxlength="4" class="input-field block w-1/3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Nhập năm sinh (4 chữ số, từ 1900 đến 2025)">
          </div>
        </div>
        <div class="button-line">
          <button id="dailyCalculateBtn" class="btn-calculate bg-purple-600 text-white p-3 rounded-lg font-semibold flex items-center justify-center" data-tooltip="Nhấn để tính dự báo hàng ngày">
            Tính Dự Báo
          </button>
          <button id="dailyClearBtn" class="bg-gray-400 text-white p-3 rounded-lg font-semibold hover:bg-gray-500 transition-colors" data-tooltip="Nhấn để xóa thông tin đã nhập">
            Xóa
          </button>
        </div>
      </div>
      <div id="dailyResult" class="mt-6 text-gray-800 dark:text-gray-100 space-y-4">
        <div id="dailyForecast" class="result-card p-4 rounded-lg shadow-md"></div>
        <button id="dailyShowCalcBtn" class="w-full bg-purple-600 text-white p-2 rounded-lg font-semibold mt-2 hidden" data-tooltip="Nhấn để xem cách tính">Xem Cách Tính</button>
        <div id="dailyCalculationDetails" class="details-hidden result-card p-4 rounded-lg shadow-md mt-4"></div>
      </div>
    </div>
    <div id="compatTab" class="tab-content">
      <div class="space-y-6">
        <div>
          <label class="block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2">Họ và tên người thứ nhất</label>
          <input type="text" id="compatName1" placeholder="Nhập họ và tên người thứ nhất" class="input-field block w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Vui lòng nhập họ và tên đầy đủ của người thứ nhất">
        </div>
        <div>
          <label class="block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2">Ngày sinh người thứ nhất</label>
          <div class="flex space-x-3 flex-wrap gap-4">
            <select id="compatDay1" class="select-field block w-1/3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Chọn ngày sinh của người thứ nhất">
              <option value="" disabled selected>Ngày</option>
            </select>
            <select id="compatMonth1" class="select-field block w-1/3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Chọn tháng sinh của người thứ nhất">
              <option value="" disabled selected>Tháng</option>
            </select>
            <input type="number" id="compatYear1" placeholder="Năm" min="1900" max="2025" maxlength="4" class="input-field block w-1/3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Nhập năm sinh (4 chữ số, từ 1900 đến 2025)">
          </div>
        </div>
        <div>
          <label class="block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2">Họ và tên người thứ hai</label>
          <input type="text" id="compatName2" placeholder="Nhập họ và tên người thứ hai" class="input-field block w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Vui lòng nhập họ và tên đầy đủ của người thứ hai">
        </div>
        <div>
          <label class="block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2">Ngày sinh người thứ hai</label>
          <div class="flex space-x-3 flex-wrap gap-4">
            <select id="compatDay2" class="select-field block w-1/3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Chọn ngày sinh của người thứ hai">
              <option value="" disabled selected>Ngày</option>
            </select>
            <select id="compatMonth2" class="select-field block w-1/3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Chọn tháng sinh của người thứ hai">
              <option value="" disabled selected>Tháng</option>
            </select>
            <input type="number" id="compatYear2" placeholder="Năm" min="1900" max="2025" maxlength="4" class="input-field block w-1/3 p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none dark:bg-gray-700 dark:text-white" data-tooltip="Nhập năm sinh (4 chữ số, từ 1900 đến 2025)">
          </div>
        </div>
        <div class="button-line">
          <button id="compatCalculateBtn" class="btn-calculate bg-purple-600 text-white p-3 rounded-lg font-semibold flex items-center justify-center" data-tooltip="Nhấn để tính độ tương hợp">
            Tính Tương Hợp
          </button>
          <button id="compatClearBtn" class="bg-gray-400 text-white p-3 rounded-lg font-semibold hover:bg-gray-500 transition-colors" data-tooltip="Nhấn để xóa thông tin đã nhập">
            Xóa
          </button>
        </div>
      </div>
      <div id="compatResult" class="mt-6 text-gray-800 dark:text-gray-100 space-y-4">
        <div id="compatForecast" class="result-card p-4 rounded-lg shadow-md"></div>
        <button id="compatShowCalcBtn" class="w-full bg-purple-600 text-white p-2 rounded-lg font-semibold mt-2 hidden" data-tooltip="Nhấn để xem cách tính">Xem Cách Tính</button>
        <div id="compatCalculationDetails" class="details-hidden result-card p-4 rounded-lg shadow-md mt-4"></div>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>
